window.matchMedia||(window.matchMedia=function(){"use strict";var e=window.styleMedia||window.media;if(!e){var t=document.createElement("style"),i=document.getElementsByTagName("script")[0],n=null;t.type="text/css";t.id="matchmediajs-test";i.parentNode.insertBefore(t,i);n="getComputedStyle"in window&&window.getComputedStyle(t,null)||t.currentStyle;e={matchMedium:function(e){var i="@media "+e+"{ #matchmediajs-test { width: 1px; } }";if(t.styleSheet){t.styleSheet.cssText=i}else{t.textContent=i}return n.width==="1px"}}}return function(t){return{matches:e.matchMedium(t||"all"),media:t||"all"}}}());
;
(function(e,a,i,t){'use strict';e.editors.ckeditor={attach:function(o,a){this._loadExternalPlugins(a);a.editorSettings.drupal={format:a.format};var n=t('label[for='+o.getAttribute('id')+']').html();a.editorSettings.title=e.t('Rich Text Editor, !label field',{'!label':n});return!!i.replace(o,a.editorSettings)},detach:function(e,t,a){var o=i.dom.element.get(e).getEditor();if(o){if(a==='serialize'){o.updateElement()}
else{o.destroy();e.removeAttribute('contentEditable')}};return!!o},onChange:function(e,t){var o=i.dom.element.get(e).getEditor();if(o){o.on('change',a(function(){t(o.getData())},400))};return!!o},attachInlineEditor:function(a,e,n,s){this._loadExternalPlugins(e);e.editorSettings.drupal={format:e.format};var o=t.extend(!0,{},e.editorSettings);if(n){var l={extraPlugins:'sharedspace',removePlugins:'floatingspace,elementspath',sharedSpaces:{top:n}};var c=!1;for(var r=0;!c&&r<o.toolbar.length;r++){if(o.toolbar[r]!=='/'){for(var d=0;!c&&d<o.toolbar[r].items.length;d++){if(o.toolbar[r].items[d]==='Source'){c=!0;o.toolbar[r].items[d]='Sourcedialog';l.extraPlugins+=',sourcedialog';l.removePlugins+=',sourcearea'}}}};o.extraPlugins+=','+l.extraPlugins;o.removePlugins+=','+l.removePlugins;o.sharedSpaces=l.sharedSpaces};a.setAttribute('contentEditable','true');return!!i.inline(a,o)},_loadExternalPlugins:function(e){var t=e.editorSettings.drupalExternalPlugins;if(t){for(var a in t){if(t.hasOwnProperty(a)){i.plugins.addExternal(a,t[a],'')}};delete e.editorSettings.drupalExternalPlugins}}};e.ckeditor={saveCallback:null,openDialog:function(a,o,n,l,r){var d=t(a.container.$);if(a.elementMode===i.ELEMENT_MODE_REPLACE){d=d.find('.cke_contents')};d.css('position','relative').find('.ckeditor-dialog-loading').remove();var s=r.dialogClass?r.dialogClass.split(' '):[];s.push('ui-dialog--narrow');r.dialogClass=s.join(' ');r.autoResize=window.matchMedia('(min-width: 600px)').matches;r.width='auto';var c=t('<div class="ckeditor-dialog-loading"><span style="top: -40px;" class="ckeditor-dialog-loading-link">'+e.t('Loading...')+'</span></div>');c.appendTo(d);var u=e.ajax({dialog:r,dialogType:'modal',selector:'.ckeditor-dialog-loading-link',url:o,progress:{type:'throbber'},submit:{editor_object:n}});u.execute();window.setTimeout(function(){c.find('span').animate({top:'0px'})},1000);e.ckeditor.saveCallback=l}};t(window).on('dialogcreate',function(e,a,o,n){t('.ui-dialog--narrow').css('zIndex',i.config.baseFloatZIndex+1)});t(window).on('dialog:beforecreate',function(e,i,a,o){t('.ckeditor-dialog-loading').animate({top:'-40px'},function(){t(this).remove()})});t(window).on('editor:dialogsave',function(i,t){if(e.ckeditor.saveCallback){e.ckeditor.saveCallback(t)}});t(window).on('dialog:afterclose',function(t,i,a){if(e.ckeditor.saveCallback){e.ckeditor.saveCallback=null}});function o(){var o=location.hash.substr(1),e=document.getElementById(o);if(e){var t=i.dom.element.get(e).getEditor();if(t){var a=t.container.getAttribute('id');location.replace('#'+a)}}};t(window).on('hashchange.ckeditor',o);i.timestamp=drupalSettings.ckeditor.timestamp})(Drupal,Drupal.debounce,CKEDITOR,jQuery);;
(function(s,e){'use strict';e.theme.progressBar=function(s){return'<div id="'+s+'" class="progress" aria-live="polite"><div class="progress__label">&nbsp;</div><div class="progress__track"><div class="progress__bar"></div></div><div class="progress__percentage"></div><div class="progress__description">&nbsp;</div></div>'};e.ProgressBar=function(r,i,t,a){this.id=r;this.method=t||'GET';this.updateCallback=i;this.errorCallback=a;this.element=s(e.theme('progressBar',r))};s.extend(e.ProgressBar.prototype,{setProgress:function(e,r,i){if(e>=0&&e<=100){s(this.element).find('div.progress__bar').css('width',e+'%');s(this.element).find('div.progress__percentage').html(e+'%')};s('div.progress__description',this.element).html(r);s('div.progress__label',this.element).html(i);if(this.updateCallback){this.updateCallback(e,r,this)}},startMonitoring:function(s,e){this.delay=e;this.uri=s;this.sendPing()},stopMonitoring:function(){clearTimeout(this.timer);this.uri=null},sendPing:function(){if(this.timer){clearTimeout(this.timer)};if(this.uri){var r=this,i=this.uri;if(i.indexOf('?')===-1){i+='?'}
else{i+='&'};i+='_format=json';s.ajax({type:this.method,url:i,data:'',dataType:'json',success:function(s){if(s.status===0){r.displayError(s.data);return};r.setProgress(s.percentage,s.message,s.label);r.timer=setTimeout(function(){r.sendPing()},r.delay)},error:function(s){var i=new e.AjaxError(s,r.uri);r.displayError('<pre>'+i.message+'</pre>')}})}},displayError:function(e){var r=s('<div class="messages messages--error"></div>').html(e);s(this.element).before(r).hide();if(this.errorCallback){this.errorCallback(this)}}})})(jQuery,Drupal);;
(function(e,s,t,r){'use strict';t.behaviors.AJAX={attach:function(s,r){function i(s){var a=r.ajax[s];if(typeof a.selector==='undefined'){a.selector='#'+s};e(a.selector).once('drupal-ajax').each(function(){a.element=this;a.base=s;t.ajax(a)})};for(var a in r.ajax){if(r.ajax.hasOwnProperty(a)){i(a)}};e('.use-ajax').once('ajax').each(function(){var s={};s.progress={type:'throbber'};var r=e(this).attr('href');if(r){s.url=r;s.event='click'};s.dialogType=e(this).data('dialog-type');s.dialog=e(this).data('dialog-options');s.base=e(this).attr('id');s.element=this;t.ajax(s)});e('.use-ajax-submit').once('ajax').each(function(){var s={};s.url=e(this.form).attr('action');s.setClick=!0;s.event='click';s.progress={type:'throbber'};s.base=e(this).attr('id');s.element=this;t.ajax(s)})},detach:function(e,s,r){if(r==='unload'){t.ajax.expired().forEach(function(e){t.ajax.instances[e.instanceIndex]=null})}}};t.AjaxError=function(s,r,a){var o,l,c,i,p;if(s.status){o='\n'+t.t('An AJAX HTTP error occurred.')+'\n'+t.t('HTTP Result Code: !status',{'!status':s.status})}
else{o='\n'+t.t('An AJAX HTTP request terminated abnormally.')};o+='\n'+t.t('Debugging information follows.');c='\n'+t.t('Path: !uri',{'!uri':r});l='';try{l='\n'+t.t('StatusText: !statusText',{'!statusText':e.trim(s.statusText)})}catch(n){};i='';try{i='\n'+t.t('ResponseText: !responseText',{'!responseText':e.trim(s.responseText)})}catch(n){};i=i.replace(/<("[^"]*"|'[^']*'|[^'">])*>/gi,'');i=i.replace(/[\n]+\s+/g,'\n');p=s.status===0?('\n'+t.t('ReadyState: !readyState',{'!readyState':s.readyState})):'';a=a?('\n'+t.t('CustomMessage: !customMessage',{'!customMessage':a})):'';this.message=o+c+l+a+i+p;this.name='AjaxError'};t.AjaxError.prototype=new Error();t.AjaxError.prototype.constructor=t.AjaxError;t.ajax=function(e){if(arguments.length!==1){throw new Error('Drupal.ajax() function must be called with one configuration object only')};var a=e.base||!1,r=e.element||!1;delete e.base;delete e.element;if(!e.progress&&!r){e.progress=!1};var s=new t.Ajax(a,r,e);s.instanceIndex=t.ajax.instances.length;t.ajax.instances.push(s);return s};t.ajax.instances=[];t.ajax.expired=function(){return t.ajax.instances.filter(function(e){return e&&e.element!==!1&&!document.body.contains(e.element)})};t.Ajax=function(s,a,o){var l={event:a?'mousedown':null,keypress:!0,selector:s?'#'+s:null,effect:'none',speed:'none',method:'replaceWith',progress:{type:'throbber',message:t.t('Please wait...')},submit:{js:!0}};e.extend(this,l,o);this.commands=new t.AjaxCommands();this.instanceIndex=!1;if(this.wrapper){this.wrapper='#'+this.wrapper};this.element=a;this.element_settings=o;if(this.element&&this.element.form){this.$form=e(this.element.form)};if(!this.url){var n=e(this.element);if(n.is('a')){this.url=n.attr('href')}
else if(this.element&&a.form){this.url=this.$form.attr('action')}};var c=this.url;this.url=this.url.replace(/\/nojs(\/|$|\?|#)/g,'/ajax$1');if(r.ajaxTrustedUrl[c]){r.ajaxTrustedUrl[this.url]=!0};var i=this;i.options={url:i.url,data:i.submit,beforeSerialize:function(e,t){return i.beforeSerialize(e,t)},beforeSubmit:function(e,t,s){i.ajaxing=!0;return i.beforeSubmit(e,t,s)},beforeSend:function(e,t){i.ajaxing=!0;return i.beforeSend(e,t)},success:function(s,a,o){if(typeof s==='string'){s=e.parseJSON(s)};if(s!==null&&!r.ajaxTrustedUrl[i.url]){if(o.getResponseHeader('X-Drupal-Ajax-Token')!=='1'){var n=t.t('The response failed verification so will not be processed.');return i.error(o,i.url,n)}};return i.success(s,a)},complete:function(e,t){i.ajaxing=!1;if(t==='error'||t==='parsererror'){return i.error(e,i.url)}},dataType:'json',type:'POST'};if(o.dialog){i.options.data.dialogOptions=o.dialog};if(i.options.url.indexOf('?')===-1){i.options.url+='?'}
else{i.options.url+='&'};i.options.url+=t.ajax.WRAPPER_FORMAT+'=drupal_'+(o.dialogType||'ajax');e(i.element).on(o.event,function(e){if(!r.ajaxTrustedUrl[i.url]&&!t.url.isLocal(i.url)){throw new Error(t.t('The callback URL is not local and not trusted: !url',{'!url':i.url}))};return i.eventResponse(this,e)});if(o.keypress){e(i.element).on('keypress',function(e){return i.keypressResponse(this,e)})};if(o.prevent){e(i.element).on(o.prevent,!1)}};t.ajax.WRAPPER_FORMAT='_wrapper_format';t.Ajax.AJAX_REQUEST_PARAMETER='_drupal_ajax';t.Ajax.prototype.execute=function(){if(this.ajaxing){return};try{this.beforeSerialize(this.element,this.options);return e.ajax(this.options)}catch(t){this.ajaxing=!1;s.alert('An error occurred while attempting to process '+this.options.url+': '+t.message);return e.Deferred().reject()}};t.Ajax.prototype.keypressResponse=function(t,s){var r=this;if(s.which===13||(s.which===32&&t.type!=='text'&&t.type!=='textarea'&&t.type!=='tel'&&t.type!=='number')){s.preventDefault();s.stopPropagation();e(r.element_settings.element).trigger(r.element_settings.event)}};t.Ajax.prototype.eventResponse=function(t,r){r.preventDefault();r.stopPropagation();var a=this;if(a.ajaxing){return};try{if(a.$form){if(a.setClick){t.form.clk=t};a.$form.ajaxSubmit(a.options)}
else{a.beforeSerialize(a.element,a.options);e.ajax(a.options)}}catch(i){a.ajaxing=!1;s.alert('An error occurred while attempting to process '+a.options.url+': '+i.message)}};t.Ajax.prototype.beforeSerialize=function(e,s){if(this.$form){var i=this.settings||r;t.detachBehaviors(this.$form.get(0),i,'serialize')};s.data[t.Ajax.AJAX_REQUEST_PARAMETER]=1;var a=r.ajaxPageState;s.data['ajax_page_state[theme]']=a.theme;s.data['ajax_page_state[theme_token]']=a.theme_token;s.data['ajax_page_state[libraries]']=a.libraries};t.Ajax.prototype.beforeSubmit=function(e,t,s){};t.Ajax.prototype.beforeSend=function(t,s){if(this.$form){s.extraData=s.extraData||{};s.extraData.ajax_iframe_upload='1';var a=e.fieldValue(this.element);if(a!==null){s.extraData[this.element.name]=a}};e(this.element).prop('disabled',!0);if(!this.progress||!this.progress.type){return};var r='setProgressIndicator'+this.progress.type.slice(0,1).toUpperCase()+this.progress.type.slice(1).toLowerCase();if(r in this&&typeof this[r]==='function'){this[r].call(this)}};t.Ajax.prototype.setProgressIndicatorBar=function(){var s=new t.ProgressBar('ajax-progress-'+this.element.id,e.noop,this.progress.method,e.noop);if(this.progress.message){s.setProgress(-1,this.progress.message)};if(this.progress.url){s.startMonitoring(this.progress.url,this.progress.interval||1500)};this.progress.element=e(s.element).addClass('ajax-progress ajax-progress-bar');this.progress.object=s;e(this.element).after(this.progress.element)};t.Ajax.prototype.setProgressIndicatorThrobber=function(){this.progress.element=e('<div class="ajax-progress ajax-progress-throbber"><div class="throbber">&nbsp;</div></div>');if(this.progress.message){this.progress.element.find('.throbber').after('<div class="message">'+this.progress.message+'</div>')};e(this.element).after(this.progress.element)};t.Ajax.prototype.setProgressIndicatorFullscreen=function(){this.progress.element=e('<div class="ajax-progress ajax-progress-fullscreen">&nbsp;</div>');e('body').after(this.progress.element)};t.Ajax.prototype.success=function(s,a){if(this.progress.element){e(this.progress.element).remove()};if(this.progress.object){this.progress.object.stopMonitoring()};e(this.element).prop('disabled',!1);var c=e(this.element).parents('[data-drupal-selector]').addBack().toArray(),l=!1;for(var i in s){if(s.hasOwnProperty(i)&&s[i].command&&this.commands[s[i].command]){this.commands[s[i].command](this,s[i],a);if(s[i].command==='invoke'&&s[i].method==='focus'){l=!0}}};if(!l&&this.element&&!e(this.element).data('disable-refocus')){var o=!1;for(var n=c.length-1;!o&&n>0;n--){o=document.querySelector('[data-drupal-selector="'+c[n].getAttribute('data-drupal-selector')+'"]')};if(o){e(o).trigger('focus')}};if(this.$form){var p=this.settings||r;t.attachBehaviors(this.$form.get(0),p)};this.settings=null};t.Ajax.prototype.getEffect=function(e){var s=e.effect||this.effect,r=e.speed||this.speed,t={};if(s==='none'){t.showEffect='show';t.hideEffect='hide';t.showSpeed=''}
else if(s==='fade'){t.showEffect='fadeIn';t.hideEffect='fadeOut';t.showSpeed=r}
else{t.showEffect=s+'Toggle';t.hideEffect=s+'Toggle';t.showSpeed=r};return t};t.Ajax.prototype.error=function(s,a,i){if(this.progress.element){e(this.progress.element).remove()};if(this.progress.object){this.progress.object.stopMonitoring()};e(this.wrapper).show();e(this.element).prop('disabled',!1);if(this.$form){var o=this.settings||r;t.attachBehaviors(this.$form.get(0),o)};throw new t.AjaxError(s,a,i)};t.AjaxCommands=function(){};t.AjaxCommands.prototype={insert:function(s,a,i){var h=a.selector?e(a.selector):e(s.wrapper),p=a.method||s.method,n=s.getEffect(a),l,c=e('<div></div>').html(a.data),o=c.contents();if(o.length!==1||o.get(0).nodeType!==1){o=c};switch(p){case'html':case'replaceWith':case'replaceAll':case'empty':case'remove':l=a.settings||s.settings||r;t.detachBehaviors(h.get(0),l)};h[p](o);if(n.showEffect!=='show'){o.hide()};if(o.find('.ajax-new-content').length>0){o.find('.ajax-new-content').hide();o.show();o.find('.ajax-new-content')[n.showEffect](n.showSpeed)}
else if(n.showEffect!=='show'){o[n.showEffect](n.showSpeed)};if(o.parents('html').length>0){l=a.settings||s.settings||r;t.attachBehaviors(o.get(0),l)}},remove:function(s,a,i){var o=a.settings||s.settings||r;e(a.selector).each(function(){t.detachBehaviors(this,o)}).remove()},changed:function(s,r,a){var i=e(r.selector);if(!i.hasClass('ajax-changed')){i.addClass('ajax-changed');if(r.asterisk){i.find(r.asterisk).append(' <abbr class="ajax-changed" title="'+t.t('Changed')+'">*</abbr> ')}}},alert:function(e,t,r){s.alert(t.text,t.title)},redirect:function(e,t,r){s.location=t.url},css:function(t,s,r){e(s.selector).css(s.argument)},settings:function(s,a,i){var o=r.ajax;if(o){t.ajax.expired().forEach(function(e){if(e.selector){var t=e.selector.replace('#','');if(t in o){delete o[t]}}})};if(a.merge){e.extend(!0,r,a.settings)}
else{s.settings=a.settings}},data:function(t,s,r){e(s.selector).data(s.name,s.value)},invoke:function(t,s,r){var a=e(s.selector);a[s.method].apply(a,s.args)},restripe:function(t,s,r){e(s.selector).find('> tbody > tr:visible, > tr:visible').removeClass('odd even').filter(':even').addClass('odd').end().filter(':odd').addClass('even')},update_build_id:function(t,s,r){e('input[name="form_build_id"][value="'+s.old+'"]').val(s.new)},add_css:function(t,s,r){e('head').prepend(s.data);var i,a=/^@import url\("(.*)"\);$/igm;if(document.styleSheets[0].addImport&&a.test(s.data)){a.lastIndex=0;do{i=a.exec(s.data);document.styleSheets[0].addImport(i[1])}
while(i);}}}})(jQuery,window,Drupal,drupalSettings);;
(function(t,e){'use strict';e.behaviors.textSummary={attach:function(a,n){t(a).find('.js-text-summary').once('text-summary').each(function(){var s=t(this).closest('.js-text-format-wrapper'),n=s.find('.js-text-summary-wrapper'),m=n.find('label').eq(0),u=s.find('.js-text-full').closest('.js-form-item'),i=u.find('label').eq(0);if(i.length===0){i=t('<label></label>').prependTo(u)};var a=t('<span class="field-edit-link"> (<button type="button" class="link link-edit-summary">'+e.t('Hide summary')+'</button>)</span>'),r=a.find('button'),l=!0;a.on('click',function(t){if(l){n.hide();r.html(e.t('Edit summary'));a.appendTo(i)}
else{n.show();r.html(e.t('Hide summary'));a.appendTo(m)};t.preventDefault();l=!l}).appendTo(m);if(s.find('.js-text-summary').val()===''){a.trigger('click')}})}}})(jQuery,Drupal);;
(function(o,t){'use strict';t.behaviors.dialog={attach:function(t,i){var e=o(t);if(!o('#drupal-modal').length){o('<div id="drupal-modal" class="ui-front"/>').hide().appendTo('body')};var a=e.closest('.ui-dialog-content');if(a.length){if(a.dialog('option','drupalAutoButtons')){a.trigger('dialogButtonsChange')};a.dialog('widget').trigger('focus')};var n=i.dialog.close;i.dialog.close=function(t){n.apply(i.dialog,arguments);o(t.target).remove()}},prepareDialogButtons:function(t){var i=[],a=t.find('.form-actions input[type=submit], .form-actions a.button');a.each(function(){var t=o(this).css({display:'block',width:0,height:0,padding:0,border:0,overflow:'hidden'});i.push({text:t.html()||t.attr('value'),class:t.attr('class'),click:function(o){if(t.is('a')){t[0].click()}
else{t.trigger('mousedown').trigger('mouseup').trigger('click');o.preventDefault()}}})});return i}};t.AjaxCommands.prototype.openDialog=function(a,i,n){if(!i.selector){return!1};var e=o(i.selector);if(!e.length){e=o('<div id="'+i.selector.replace(/^#/,'')+'" class="ui-front"/>').appendTo('body')};if(!a.wrapper){a.wrapper=e.attr('id')};i.command='insert';i.method='html';a.commands.insert(a,i,n);if(!i.dialogOptions.buttons){i.dialogOptions.drupalAutoButtons=!0;i.dialogOptions.buttons=t.behaviors.dialog.prepareDialogButtons(e)};e.on('dialogButtonsChange',function(){var o=t.behaviors.dialog.prepareDialogButtons(e);e.dialog('option','buttons',o)});i.dialogOptions=i.dialogOptions||{};var l=t.dialog(e.get(0),i.dialogOptions);if(i.dialogOptions.modal){l.showModal()}
else{l.show()};e.parent().find('.ui-dialog-buttonset').addClass('form-actions')};t.AjaxCommands.prototype.closeDialog=function(i,a,n){var e=o(a.selector);if(e.length){t.dialog(e.get(0)).close();if(!a.persist){e.remove()}};e.off('dialogButtonsChange')};t.AjaxCommands.prototype.setDialogOption=function(t,i,a){var e=o(i.selector);if(e.length){e.dialog('option',i.optionName,i.optionValue)}};o(window).on('dialog:aftercreate',function(o,t,i,a){i.on('click.dialog','.dialog-cancel',function(o){t.close('cancel');o.preventDefault();o.stopPropagation()})});o(window).on('dialog:beforeclose',function(o,t,i){i.off('.dialog')})})(jQuery,Drupal);;
(function(t){'use strict';Drupal.behaviors.tokenTree={attach:function(e,n){t('table.token-tree',e).once('token-tree').each(function(){t(this).treetable({expandable:!0})})}};Drupal.behaviors.tokenInsert={attach:function(e,n){t('textarea, input[type="text"]',e).focus(function(){drupalSettings.tokenFocusedField=this});t('.token-click-insert .token-key',e).once('token-click-insert').each(function(){var e=t('<a href="javascript:void(0);" title="'+Drupal.t('Insert this token into your form')+'">'+t(this).html()+'</a>').click(function(){if(typeof drupalSettings.tokenFocusedField=='undefined'){alert(Drupal.t('First click a text field to insert your tokens into.'))}
else{var e=drupalSettings.tokenFocusedField,n=t(this).text();if(document.selection){e.focus();var i=document.selection.createRange();i.text=n}
else if(e.selectionStart||e.selectionStart==='0'){var a=e.selectionStart,o=e.selectionEnd;e.value=e.value.substring(0,a)+n+e.value.substring(o,e.value.length)}
else{e.value+=n};t('html,body').animate({scrollTop:t(e).offset().top},500)};return!1});t(this).html(e)})}}})(jQuery,drupalSettings);;
(function(a,t){'use strict';function s(i,n){var s=a(n),e=s.find('[data-drupal-nav-tabs-target]'),r=s.hasClass('is-collapsible');function l(a){e.toggleClass('is-open')};function o(a){s.addClass('is-horizontal');var i=s.find('.tabs'),t=i.outerHeight()<=i.find('.tabs__tab').outerHeight();s.toggleClass('is-horizontal',t);if(r){s.toggleClass('is-collapse-enabled',!t)};if(t){e.removeClass('is-open')}};s.addClass('position-container is-horizontal-enabled');s.on('click.tabs','[data-drupal-nav-tabs-trigger]',l);a(window).on('resize.tabs',t.debounce(o,150)).trigger('resize.tabs')};t.behaviors.navTabs={attach:function(t,n){var i=a(t).find('[data-drupal-nav-tabs]');if(i.length){var e=window.matchMedia('(min-width: 300px)');if(e.matches){i.once('nav-tabs').each(s)}}}}})(jQuery,Drupal);;
(function(e,n){'use strict';var t,i=[];e.behaviors.drupalAnnounce={attach:function(e){if(!t){t=document.createElement('div');t.id='drupal-live-announce';t.className='visually-hidden';t.setAttribute('aria-live','polite');t.setAttribute('aria-busy','false');document.body.appendChild(t)}}};function r(){var e=[],r='polite',n,u=i.length;for(var a=0;a<u;a++){n=i.pop();e.unshift(n.text);if(n.priority==='assertive'){r='assertive'}};if(e.length){t.innerHTML='';t.setAttribute('aria-busy','true');t.setAttribute('aria-live',r);t.innerHTML=e.join('\n');t.setAttribute('aria-busy','false')}};e.announce=function(t,e){i.push({text:t,priority:e});return(n(r,200)())}}(Drupal,Drupal.debounce));;
(function(){if(window.matchMedia&&window.matchMedia("all").addListener){return false}var e=window.matchMedia,i=e("only all").matches,n=false,t=0,a=[],r=function(i){clearTimeout(t);t=setTimeout(function(){for(var i=0,n=a.length;i<n;i++){var t=a[i].mql,r=a[i].listeners||[],o=e(t.media).matches;if(o!==t.matches){t.matches=o;for(var s=0,l=r.length;s<l;s++){r[s].call(window,t)}}}},30)};window.matchMedia=function(t){var o=e(t),s=[],l=0;o.addListener=function(e){if(!i){return}if(!n){n=true;window.addEventListener("resize",r,true)}if(l===0){l=a.push({mql:o,listeners:s})}s.push(e)};o.removeListener=function(e){for(var i=0,n=s.length;i<n;i++){if(s[i]===e){s.splice(i,1)}}};return o}})();
;
(function(a,t,l){'use strict';var o=t.url(l.path.currentPath);a.fn.drupalToolbarMenu=function(){var l={handleOpen:t.t('Extend'),handleClose:t.t('Collapse')};function s(t){var e=a(t.target),o=e.closest('li');n(o);var l=o.siblings().filter('.open');n(l,!1)};function c(a){if(!t.toolbar.models.toolbarModel.get('isFixed')){t.toolbar.models.toolbarModel.set('activeTab',null)};a.stopPropagation()};function n(a,t){var o=a.children('.toolbar-box').children('.toolbar-handle');t=(typeof t!=='undefined')?t:!a.hasClass('open');a.toggleClass('open',t);o.toggleClass('open',t);o.find('.action').text((t)?l.handleClose:l.handleOpen)};function r(o){var n={class:'toolbar-icon toolbar-handle',action:l.handleOpen,text:''};o.find('li > a').wrap('<div class="toolbar-box">');o.find('li').each(function(o,l){var e=a(l);if(e.children('ul.toolbar-menu').length){var i=e.children('.toolbar-box');n.text=t.t('@label',{'@label':i.find('a').text()});e.children('.toolbar-box').append(t.theme('toolbarMenuItemToggle',n))}})};function e(a,t){t=(!t)?1:t;var o=a.children('li').addClass('level-'+t);a=o.children('ul');if(a.length){e(a,t+1)}};function i(a){var t=a.find('a[href="'+location.pathname+'"]');if(t.length&&!o){o=location.pathname};if(o){var l=a.find('a[href="'+o+'"]').addClass('menu-item--active'),e=l.parentsUntil('.root','li').addClass('menu-item--active-trail');n(e,!0)}};return this.each(function(t){var o=a(this).once('toolbar-menu');if(o.length){o.on('click.toolbar','.toolbar-box',s).on('click.toolbar','.toolbar-box a',c);o.addClass('root');r(o);e(o);i(o)}})};t.theme.toolbarMenuItemToggle=function(a){return'<button class="'+a['class']+'"><span class="action">'+a.action+'</span><span class="label">'+a.text+'</span></button>'}}(jQuery,Drupal,drupalSettings));;
(function(e,o,a){'use strict';var t=e.extend({breakpoints:{'toolbar.narrow':'','toolbar.standard':'','toolbar.wide':''}},a.toolbar,{strings:{horizontal:o.t('Horizontal orientation'),vertical:o.t('Vertical orientation')}});o.behaviors.toolbar={attach:function(r){if(!window.matchMedia('only screen').matches){return};e(r).find('#toolbar-administration').once('toolbar').each(function(){var r=o.toolbar.models.toolbarModel=new o.toolbar.ToolbarModel({locked:JSON.parse(localStorage.getItem('Drupal.toolbar.trayVerticalLocked'))||!1,activeTab:document.getElementById(JSON.parse(localStorage.getItem('Drupal.toolbar.activeTabID')))});o.toolbar.views.toolbarVisualView=new o.toolbar.ToolbarVisualView({el:this,model:r,strings:t.strings});o.toolbar.views.toolbarAuralView=new o.toolbar.ToolbarAuralView({el:this,model:r,strings:t.strings});o.toolbar.views.bodyVisualView=new o.toolbar.BodyVisualView({el:this,model:r});var n=o.toolbar.models.menuModel=new o.toolbar.MenuModel();o.toolbar.views.menuVisualView=new o.toolbar.MenuVisualView({el:e(this).find('.toolbar-menu-administration').get(0),model:n,strings:t.strings});o.toolbar.setSubtrees.done(function(o){n.set('subtrees',o);var e=a.ajaxPageState.theme;localStorage.setItem('Drupal.toolbar.subtrees.'+e,JSON.stringify(o));r.set('areSubtreesLoaded',!0)});for(var l in t.breakpoints){if(t.breakpoints.hasOwnProperty(l)){var s=t.breakpoints[l],i=o.toolbar.mql[l]=window.matchMedia(s);i.addListener(o.toolbar.mediaQueryChangeHandler.bind(null,r,l));o.toolbar.mediaQueryChangeHandler.call(null,r,l,i)}};o.toolbar.views.toolbarVisualView.loadSubtrees();e(document).on('drupalViewportOffsetChange.toolbar',function(o,e){r.set('offsets',e)});r.on('change:orientation',function(o,t){e(document).trigger('drupalToolbarOrientationChange',t)}).on('change:activeTab',function(o,t){e(document).trigger('drupalToolbarTabChange',t)}).on('change:activeTray',function(o,t){e(document).trigger('drupalToolbarTrayChange',t)});if(o.toolbar.models.toolbarModel.get('orientation')==='horizontal'&&o.toolbar.models.toolbarModel.get('activeTab')===null){o.toolbar.models.toolbarModel.set({activeTab:e('.toolbar-bar .toolbar-tab:not(.home-toolbar-tab) a').get(0)})}})}};o.toolbar={views:{},models:{},mql:{},setSubtrees:new e.Deferred(),mediaQueryChangeHandler:function(o,t,e){switch(t){case'toolbar.narrow':o.set({isOriented:e.matches,isTrayToggleVisible:!1});if(!e.matches||!o.get('orientation')){o.set({orientation:'vertical'},{validate:!0})};break;case'toolbar.standard':o.set({isFixed:e.matches});break;case'toolbar.wide':o.set({orientation:((e.matches)?'horizontal':'vertical')},{validate:!0});o.set({isTrayToggleVisible:e.matches});break;default:break}}};o.theme.toolbarOrientationToggle=function(){return'<div class="toolbar-toggle-orientation"><div class="toolbar-lining"><button class="toolbar-icon" type="button"></button></div></div>'};o.AjaxCommands.prototype.setToolbarSubtrees=function(e,t,a){o.toolbar.setSubtrees.resolve(t.subtrees)}}(jQuery,Drupal,drupalSettings));;
(function(t,e){'use strict';e.toolbar.MenuModel=t.Model.extend({defaults:{subtrees:{}}})}(Backbone,Drupal));;
(function(t,e){'use strict';e.toolbar.ToolbarModel=t.Model.extend({defaults:{activeTab:null,activeTray:null,isOriented:!1,isFixed:!1,areSubtreesLoaded:!1,isViewportOverflowConstrained:!1,orientation:'vertical',locked:!1,isTrayToggleVisible:!1,height:null,offsets:{top:0,right:0,bottom:0,left:0}},validate:function(o,t){if(o.orientation==='horizontal'&&this.get('locked')&&!t.override){return e.t('The toolbar cannot be set to a horizontal orientation when it is locked.')}}})}(Backbone,Drupal));;
(function(o,t,e){'use strict';t.toolbar.BodyVisualView=e.View.extend({initialize:function(){this.listenTo(this.model,'change:orientation change:offsets change:activeTray change:isOriented change:isFixed change:isViewportOverflowConstrained',this.render)},render:function(){var s=o('body'),e=this.model.get('orientation'),i=this.model.get('isOriented'),t=this.model.get('isViewportOverflowConstrained');s.toggleClass('toolbar-vertical',(e==='vertical')).toggleClass('toolbar-horizontal',(i&&e==='horizontal')).toggleClass('toolbar-fixed',(t||this.model.get('isFixed'))).toggleClass('toolbar-tray-open',!!this.model.get('activeTray')).css('padding-top',this.model.get('offsets').top)}})}(jQuery,Drupal,Backbone));;
(function(r,i,e){'use strict';e.toolbar.MenuVisualView=i.View.extend({initialize:function(){this.listenTo(this.model,'change:subtrees',this.render)},render:function(){var e=this.model.get('subtrees');for(var i in e){if(e.hasOwnProperty(i)){this.$el.find('#toolbar-link-'+i).once('toolbar-subtrees').after(e[i])}};if('drupalToolbarMenu' in r.fn){this.$el.children('.toolbar-menu').drupalToolbarMenu()}}})}(jQuery,Backbone,Drupal));;
(function(t,n){'use strict';n.toolbar.ToolbarAuralView=t.View.extend({initialize:function(n){this.strings=n.strings;this.listenTo(this.model,'change:orientation',this.onOrientationChange);this.listenTo(this.model,'change:activeTray',this.onActiveTrayChange)},onOrientationChange:function(i,t){n.announce(n.t('Tray orientation changed to @orientation.',{'@orientation':t}))},onActiveTrayChange:function(i,t){var r=(t===null)?i.previous('activeTray'):t,a=(t===null)?n.t('closed'):n.t('opened'),o=r.querySelector('.toolbar-tray-name'),e;if(o!==null){e=n.t('Tray "@tray" @action.',{'@tray':o.textContent,'@action':a})}
else{e=n.t('Tray @action.',{'@action':a})};n.announce(e)}})}(Backbone,Drupal));;
(function(t,e,a,o){'use strict';e.toolbar.ToolbarVisualView=o.View.extend({events:function(){var t=function(t){t.preventDefault();t.target.click()};return{'click .toolbar-bar .toolbar-tab .trigger':'onTabClick','click .toolbar-toggle-orientation button':'onOrientationToggleClick','touchend .toolbar-bar .toolbar-tab .trigger':t,'touchend .toolbar-toggle-orientation button':t}},initialize:function(t){this.strings=t.strings;this.listenTo(this.model,'change:activeTab change:orientation change:isOriented change:isTrayToggleVisible',this.render);this.listenTo(this.model,'change:mqMatches',this.onMediaQueryChange);this.listenTo(this.model,'change:offsets',this.adjustPlacement);this.$el.find('.toolbar-tray .toolbar-lining').append(e.theme('toolbarOrientationToggle'));this.model.trigger('change:activeTab')},render:function(){this.updateTabs();this.updateTrayOrientation();this.updateBarAttributes();if(this.model.changed.orientation==='vertical'||this.model.changed.activeTab){this.loadSubtrees()};window.setTimeout(function(){e.displace(!0)},0);return this},onTabClick:function(t){if(t.target.hasAttribute('data-toolbar-tray')){var a=this.model.get('activeTab'),e=t.target;this.model.set('activeTab',(!a||e!==a)?e:null);t.preventDefault();t.stopPropagation()}},onOrientationToggleClick:function(t){var o=this.model.get('orientation'),e=(o==='vertical')?'horizontal':'vertical',a=e==='vertical';if(a){localStorage.setItem('Drupal.toolbar.trayVerticalLocked','true')}
else{localStorage.removeItem('Drupal.toolbar.trayVerticalLocked')};this.model.set({locked:a,orientation:e},{validate:!0,override:!0});t.preventDefault();t.stopPropagation()},updateTabs:function(){var e=t(this.model.get('activeTab'));t(this.model.previous('activeTab')).removeClass('is-active').prop('aria-pressed',!1);t(this.model.previous('activeTray')).removeClass('is-active');if(e.length>0){e.addClass('is-active').prop('aria-pressed',!0);var r=e.attr('data-toolbar-tray'),o=e.get(0).id;if(o){localStorage.setItem('Drupal.toolbar.activeTabID',JSON.stringify(o))};var a=this.$el.find('[data-toolbar-tray="'+r+'"].toolbar-tray');if(a.length){a.addClass('is-active');this.model.set('activeTray',a.get(0))}
else{this.model.set('activeTray',null)}}
else{this.model.set('activeTray',null);localStorage.removeItem('Drupal.toolbar.activeTabID')}},updateBarAttributes:function(){var t=this.model.get('isOriented');if(t){this.$el.find('.toolbar-bar').attr('data-offset-top','')}
else{this.$el.find('.toolbar-bar').removeAttr('data-offset-top')};this.$el.toggleClass('toolbar-oriented',t)},updateTrayOrientation:function(){var e=this.model.get('orientation'),t=(e==='vertical')?'horizontal':'vertical',a=this.$el.find('.toolbar-tray').removeClass('toolbar-tray-horizontal toolbar-tray-vertical').addClass('toolbar-tray-'+e),i='toolbar-icon-toggle-'+e,r='toolbar-icon-toggle-'+t,o=this.$el.find('.toolbar-toggle-orientation').toggle(this.model.get('isTrayToggleVisible'));o.find('button').val(t).attr('title',this.strings[t]).text(this.strings[t]).removeClass(i).addClass(r);var s=document.documentElement.dir,l=(s==='rtl')?'right':'left';a.removeAttr('data-offset-left data-offset-right data-offset-top');a.filter('.toolbar-tray-vertical.is-active').attr('data-offset-'+l,'');a.filter('.toolbar-tray-horizontal.is-active').attr('data-offset-top','')},adjustPlacement:function(){var t=this.$el.find('.toolbar-tray');if(!this.model.get('isOriented')){t.css('margin-top',0);t.removeClass('toolbar-tray-horizontal').addClass('toolbar-tray-vertical')}
else{t.css('margin-top',this.$el.find('.toolbar-bar').outerHeight())}},loadSubtrees:function(){var n=t(this.model.get('activeTab')),s=this.model.get('orientation');if(!this.model.get('areSubtreesLoaded')&&typeof n.data('drupal-subtrees')!=='undefined'&&s==='vertical'){var r=a.toolbar.subtreesHash,o=a.ajaxPageState.theme,c=e.url('toolbar/subtrees/'+r),d=localStorage.getItem('Drupal.toolbar.subtreesHash.'+o),l=JSON.parse(localStorage.getItem('Drupal.toolbar.subtrees.'+o)),i=this.model.get('orientation')==='vertical';if(i&&r===d&&l){e.toolbar.setSubtrees.resolve(l)}
else if(i){localStorage.removeItem('Drupal.toolbar.subtreesHash.'+o);localStorage.removeItem('Drupal.toolbar.subtrees.'+o);e.ajax({url:c}).execute();localStorage.setItem('Drupal.toolbar.subtreesHash.'+o,r)}}}})}(jQuery,Drupal,drupalSettings,Backbone));;
(function(t,e){'use strict';function i(){this.stack=[]};t.extend(i.prototype,{constrain:function(e){var r=this.stack.length;for(var n=0;n<r;n++){this.stack[n].deactivate()};var s=t(e).find(':tabbable').addBack(':tabbable'),i=new a({level:this.stack.length,$tabbableElements:s});this.stack.push(i);i.activate();t(document).trigger('drupalTabbingConstrained',i);return i},release:function(){var t=this.stack.length-1;while(t>=0&&this.stack[t].released){t--};this.stack.splice(t+1);if(t>=0){this.stack[t].activate()}},activate:function(e){var i=e.$tabbableElements,l=e.level,a=t(':tabbable').not(i);e.$disabledElements=a;var s=a.length;for(var n=0;n<s;n++){this.recordTabindex(a.eq(n),l)};a.prop('tabindex',-1).prop('autofocus',!1);var r=i.filter('[autofocus]').eq(-1);if(r.length===0){r=i.eq(0)};r.trigger('focus')},deactivate:function(t){var a=t.$disabledElements,n=t.level,i=a.length;for(var e=0;e<i;e++){this.restoreTabindex(a.eq(e),n)}},recordTabindex:function(t,e){var a=t.data('drupalOriginalTabIndices')||{};a[e]={tabindex:t[0].getAttribute('tabindex'),autofocus:t[0].hasAttribute('autofocus')};t.data('drupalOriginalTabIndices',a)},restoreTabindex:function(t,e){var a=t.data('drupalOriginalTabIndices');if(a&&a[e]){var n=a[e];if(n.tabindex){t[0].setAttribute('tabindex',n.tabindex)}
else{t[0].removeAttribute('tabindex')};if(n.autofocus){t[0].setAttribute('autofocus','autofocus')};if(e===0){t.removeData('drupalOriginalTabIndices')}
else{var i=e;while(a.hasOwnProperty(i)){delete a[i];i++};t.data('drupalOriginalTabIndices',a)}}}});function a(e){t.extend(this,{level:null,$tabbableElements:t(),$disabledElements:t(),released:!1,active:!1},e)};t.extend(a.prototype,{release:function(){if(!this.released){this.deactivate();this.released=!0;e.tabbingManager.release(this);t(document).trigger('drupalTabbingContextReleased',this)}},activate:function(){if(!this.active&&!this.released){this.active=!0;e.tabbingManager.activate(this);t(document).trigger('drupalTabbingContextActivated',this)}},deactivate:function(){if(this.active){this.active=!1;e.tabbingManager.deactivate(this);t(document).trigger('drupalTabbingContextDeactivated',this)}}});if(e.tabbingManager){return};e.tabbingManager=new i()}(jQuery,Drupal));;
(function(o,t,a){'use strict';var e={tabbingReleased:t.t('Tabbing is no longer constrained by the Contextual module.'),tabbingConstrained:t.t('Tabbing is constrained to a set of @contextualsCount and the edit mode toggle.'),pressEsc:t.t('Press the esc key to exit.')};function n(l){if(!t.contextual||!t.contextual.collection){return};var n=t.contextualToolbar,i=n.model=new n.StateModel({isViewing:localStorage.getItem('Drupal.contextualToolbar.isViewing')!=='false'},{contextualCollection:t.contextual.collection});var a={el:o('.toolbar .toolbar-bar .contextual-toolbar-tab'),model:i,strings:e};new n.VisualView(a);new n.AuralView(a)};t.behaviors.contextualToolbar={attach:function(t){if(o('body').once('contextualToolbar-init').length){n(t)}}};t.contextualToolbar={model:null}})(jQuery,Drupal,Backbone);;
(function(t,i){'use strict';t.contextualToolbar.StateModel=i.Model.extend({defaults:{isViewing:!0,isVisible:!1,contextualCount:0,tabbingContext:null},initialize:function(i,t){this.listenTo(t.contextualCollection,'reset remove add',this.countContextualLinks);this.listenTo(t.contextualCollection,'add',this.lockNewContextualLinks);this.listenTo(this,'change:contextualCount',this.updateVisibility);this.listenTo(this,'change:isViewing',function(n,i){t.contextualCollection.each(function(t){t.set('isLocked',!i)})})},countContextualLinks:function(i,t){this.set('contextualCount',t.length)},lockNewContextualLinks:function(t,i){if(!this.get('isViewing')){t.set('isLocked',!0)}},updateVisibility:function(){this.set('isVisible',this.get('contextualCount')>0)}})})(Drupal,Backbone);;
(function(t,n,i,e){'use strict';n.contextualToolbar.AuralView=i.View.extend({announcedOnce:!1,initialize:function(n){this.options=n;this.listenTo(this.model,'change',this.render);this.listenTo(this.model,'change:isViewing',this.manageTabbing);t(document).on('keyup',e.bind(this.onKeypress,this))},render:function(){this.$el.find('button').attr('aria-pressed',!this.model.get('isViewing'));return this},manageTabbing:function(){var e=this.model.get('tabbingContext');if(e){e.release();n.announce(this.options.strings.tabbingReleased)};if(!this.model.get('isViewing')){e=n.tabbingManager.constrain(t('.contextual-toolbar-tab, .contextual'));this.model.set('tabbingContext',e);this.announceTabbingConstraint();this.announcedOnce=!0}},announceTabbingConstraint:function(){var t=this.options.strings;n.announce(n.formatString(t.tabbingConstrained,{'@contextualsCount':n.formatPlural(n.contextual.collection.length,'@count contextual link','@count contextual links')}));n.announce(t.pressEsc)},onKeypress:function(n){if(!this.announcedOnce&&n.keyCode===9&&!this.model.get('isViewing')){this.announceTabbingConstraint();this.announcedOnce=!0};if(n.keyCode===27){this.model.set('isViewing',!0)}}})})(jQuery,Drupal,Backbone,_);;
(function(e,i){'use strict';e.contextualToolbar.VisualView=i.View.extend({events:function(){var e=function(e){e.preventDefault();e.target.click()};return{click:function(){this.model.set('isViewing',!this.model.get('isViewing'))},touchend:e}},initialize:function(){this.listenTo(this.model,'change',this.render);this.listenTo(this.model,'change:isViewing',this.persist)},render:function(){this.$el.toggleClass('hidden',!this.model.get('isVisible'));this.$el.find('button').toggleClass('is-active',!this.model.get('isViewing'));return this},persist:function(i,e){if(!e){localStorage.setItem('Drupal.contextualToolbar.isViewing','false')}
else{localStorage.removeItem('Drupal.contextualToolbar.isViewing')}}})})(Drupal,Backbone);;
/* jQuery Foundation Joyride Plugin 2.1 | Copyright 2012, ZURB | www.opensource.org/licenses/mit-license.php */
(function(e,t,n){"use strict";var r={version:"2.0.3",tipLocation:"bottom",nubPosition:"auto",scroll:!0,scrollSpeed:300,timer:0,autoStart:!1,startTimerOnClick:!0,startOffset:0,nextButton:!0,tipAnimation:"fade",pauseAfter:[],tipAnimationFadeSpeed:300,cookieMonster:!1,cookieName:"joyride",cookieDomain:!1,cookiePath:!1,localStorage:!1,localStorageKey:"joyride",tipContainer:"body",modal:!1,expose:!1,postExposeCallback:e.noop,preRideCallback:e.noop,postRideCallback:e.noop,preStepCallback:e.noop,postStepCallback:e.noop,template:{link:'<a href="#close" class="joyride-close-tip">X</a>',timer:'<div class="joyride-timer-indicator-wrap"><span class="joyride-timer-indicator"></span></div>',tip:'<div class="joyride-tip-guide"><span class="joyride-nub"></span></div>',wrapper:'<div class="joyride-content-wrapper" role="dialog"></div>',button:'<a href="#" class="joyride-next-tip"></a>',modal:'<div class="joyride-modal-bg"></div>',expose:'<div class="joyride-expose-wrapper"></div>',exposeCover:'<div class="joyride-expose-cover"></div>'}},i=i||!1,s={},o={init:function(n){return this.each(function(){e.isEmptyObject(s)?(s=e.extend(!0,r,n),s.document=t.document,s.$document=e(s.document),s.$window=e(t),s.$content_el=e(this),s.$body=e(s.tipContainer),s.body_offset=e(s.tipContainer).position(),s.$tip_content=e("> li",s.$content_el),s.paused=!1,s.attempts=0,s.tipLocationPatterns={top:["bottom"],bottom:[],left:["right","top","bottom"],right:["left","top","bottom"]},o.jquery_check(),e.isFunction(e.cookie)||(s.cookieMonster=!1),(!s.cookieMonster||!e.cookie(s.cookieName))&&(!s.localStorage||!o.support_localstorage()||!localStorage.getItem(s.localStorageKey))&&(s.$tip_content.each(function(t){o.create({$li:e(this),index:t})}),s.autoStart&&(!s.startTimerOnClick&&s.timer>0?(o.show("init"),o.startTimer()):o.show("init"))),s.$document.on("click.joyride",".joyride-next-tip, .joyride-modal-bg",function(e){e.preventDefault(),s.$li.next().length<1?o.end():s.timer>0?(clearTimeout(s.automate),o.hide(),o.show(),o.startTimer()):(o.hide(),o.show())}),s.$document.on("click.joyride",".joyride-close-tip",function(e){e.preventDefault(),o.end()}),s.$window.bind("resize.joyride",function(t){if(s.$li){if(s.exposed&&s.exposed.length>0){var n=e(s.exposed);n.each(function(){var t=e(this);o.un_expose(t),o.expose(t)})}o.is_phone()?o.pos_phone():o.pos_default()}})):o.restart()})},resume:function(){o.set_li(),o.show()},nextTip:function(){s.$li.next().length<1?o.end():s.timer>0?(clearTimeout(s.automate),o.hide(),o.show(),o.startTimer()):(o.hide(),o.show())},tip_template:function(t){var n,r,i;return t.tip_class=t.tip_class||"",n=e(s.template.tip).addClass(t.tip_class),r=e.trim(e(t.li).html())+o.button_text(t.button_text)+s.template.link+o.timer_instance(t.index),i=e(s.template.wrapper),t.li.attr("data-aria-labelledby")&&i.attr("aria-labelledby",t.li.attr("data-aria-labelledby")),t.li.attr("data-aria-describedby")&&i.attr("aria-describedby",t.li.attr("data-aria-describedby")),n.append(i),n.first().attr("data-index",t.index),e(".joyride-content-wrapper",n).append(r),n[0]},timer_instance:function(t){var n;return t===0&&s.startTimerOnClick&&s.timer>0||s.timer===0?n="":n=o.outerHTML(e(s.template.timer)[0]),n},button_text:function(t){return s.nextButton?(t=e.trim(t)||"Next",t=o.outerHTML(e(s.template.button).append(t)[0])):t="",t},create:function(t){var n=t.$li.attr("data-button")||t.$li.attr("data-text"),r=t.$li.attr("class"),i=e(o.tip_template({tip_class:r,index:t.index,button_text:n,li:t.$li}));e(s.tipContainer).append(i)},show:function(t){var r={},i,u=[],a=0,f,l=null;if(s.$li===n||e.inArray(s.$li.index(),s.pauseAfter)===-1){s.paused?s.paused=!1:o.set_li(t),s.attempts=0;if(s.$li.length&&s.$target.length>0){t&&(s.preRideCallback(s.$li.index(),s.$next_tip),s.modal&&o.show_modal()),s.preStepCallback(s.$li.index(),s.$next_tip),u=(s.$li.data("options")||":").split(";"),a=u.length;for(i=a-1;i>=0;i--)f=u[i].split(":"),f.length===2&&(r[e.trim(f[0])]=e.trim(f[1]));s.tipSettings=e.extend({},s,r),s.tipSettings.tipLocationPattern=s.tipLocationPatterns[s.tipSettings.tipLocation],s.modal&&s.expose&&o.expose(),!/body/i.test(s.$target.selector)&&s.scroll&&o.scroll_to(),o.is_phone()?o.pos_phone(!0):o.pos_default(!0),l=e(".joyride-timer-indicator",s.$next_tip),/pop/i.test(s.tipAnimation)?(l.outerWidth(0),s.timer>0?(s.$next_tip.show(),l.animate({width:e(".joyride-timer-indicator-wrap",s.$next_tip).outerWidth()},s.timer)):s.$next_tip.show()):/fade/i.test(s.tipAnimation)&&(l.outerWidth(0),s.timer>0?(s.$next_tip.fadeIn(s.tipAnimationFadeSpeed),s.$next_tip.show(),l.animate({width:e(".joyride-timer-indicator-wrap",s.$next_tip).outerWidth()},s.timer)):s.$next_tip.fadeIn(s.tipAnimationFadeSpeed)),s.$current_tip=s.$next_tip,e(".joyride-next-tip",s.$current_tip).focus(),o.tabbable(s.$current_tip)}else s.$li&&s.$target.length<1?o.show():o.end()}else s.paused=!0},is_phone:function(){return i?i.mq("only screen and (max-width: 767px)"):s.$window.width()<767?!0:!1},support_localstorage:function(){return i?i.localstorage:!!t.localStorage},hide:function(){s.modal&&s.expose&&o.un_expose(),s.modal||e(".joyride-modal-bg").hide(),s.$current_tip.hide(),s.postStepCallback(s.$li.index(),s.$current_tip)},set_li:function(e){e?(s.$li=s.$tip_content.eq(s.startOffset),o.set_next_tip(),s.$current_tip=s.$next_tip):(s.$li=s.$li.next(),o.set_next_tip()),o.set_target()},set_next_tip:function(){s.$next_tip=e(".joyride-tip-guide[data-index="+s.$li.index()+"]")},set_target:function(){var t=s.$li.attr("data-class"),n=s.$li.attr("data-id"),r=function(){return n?e(s.document.getElementById(n)):t?e("."+t).filter(":visible").first():e("body")};s.$target=r()},scroll_to:function(){var t,n;t=s.$window.height()/2,n=Math.ceil(s.$target.offset().top-t+s.$next_tip.outerHeight()),e("html, body").stop().animate({scrollTop:n},s.scrollSpeed)},paused:function(){return e.inArray(s.$li.index()+1,s.pauseAfter)===-1?!0:!1},destroy:function(){e.isEmptyObject(s)||s.$document.off(".joyride"),e(t).off(".joyride"),e(".joyride-close-tip, .joyride-next-tip, .joyride-modal-bg").off(".joyride"),e(".joyride-tip-guide, .joyride-modal-bg").remove(),clearTimeout(s.automate),s={}},restart:function(){s.autoStart?(o.hide(),s.$li=n,o.show("init")):(!s.startTimerOnClick&&s.timer>0?(o.show("init"),o.startTimer()):o.show("init"),s.autoStart=!0)},pos_default:function(t){var n=Math.ceil(s.$window.height()/2),r=s.$next_tip.offset(),i=e(".joyride-nub",s.$next_tip),u=Math.ceil(i.outerWidth()/2),a=Math.ceil(i.outerHeight()/2),f=t||!1;f&&(s.$next_tip.css("visibility","hidden"),s.$next_tip.show());if(!/body/i.test(s.$target.selector)){var l=s.tipSettings.tipAdjustmentY?parseInt(s.tipSettings.tipAdjustmentY):0,c=s.tipSettings.tipAdjustmentX?parseInt(s.tipSettings.tipAdjustmentX):0;o.bottom()?(s.$next_tip.css({top:s.$target.offset().top+a+s.$target.outerHeight()+l,left:s.$target.offset().left+c}),/right/i.test(s.tipSettings.nubPosition)&&s.$next_tip.css("left",s.$target.offset().left-s.$next_tip.outerWidth()+s.$target.outerWidth()),o.nub_position(i,s.tipSettings.nubPosition,"top")):o.top()?(s.$next_tip.css({top:s.$target.offset().top-s.$next_tip.outerHeight()-a+l,left:s.$target.offset().left+c}),o.nub_position(i,s.tipSettings.nubPosition,"bottom")):o.right()?(s.$next_tip.css({top:s.$target.offset().top+l,left:s.$target.outerWidth()+s.$target.offset().left+u+c}),o.nub_position(i,s.tipSettings.nubPosition,"left")):o.left()&&(s.$next_tip.css({top:s.$target.offset().top+l,left:s.$target.offset().left-s.$next_tip.outerWidth()-u+c}),o.nub_position(i,s.tipSettings.nubPosition,"right")),!o.visible(o.corners(s.$next_tip))&&s.attempts<s.tipSettings.tipLocationPattern.length&&(i.removeClass("bottom").removeClass("top").removeClass("right").removeClass("left"),s.tipSettings.tipLocation=s.tipSettings.tipLocationPattern[s.attempts],s.attempts++,o.pos_default(!0))}else s.$li.length&&o.pos_modal(i);f&&(s.$next_tip.hide(),s.$next_tip.css("visibility","visible"))},pos_phone:function(t){var n=s.$next_tip.outerHeight(),r=s.$next_tip.offset(),i=s.$target.outerHeight(),u=e(".joyride-nub",s.$next_tip),a=Math.ceil(u.outerHeight()/2),f=t||!1;u.removeClass("bottom").removeClass("top").removeClass("right").removeClass("left"),f&&(s.$next_tip.css("visibility","hidden"),s.$next_tip.show()),/body/i.test(s.$target.selector)?s.$li.length&&o.pos_modal(u):o.top()?(s.$next_tip.offset({top:s.$target.offset().top-n-a}),u.addClass("bottom")):(s.$next_tip.offset({top:s.$target.offset().top+i+a}),u.addClass("top")),f&&(s.$next_tip.hide(),s.$next_tip.css("visibility","visible"))},pos_modal:function(e){o.center(),e.hide(),o.show_modal()},show_modal:function(){e(".joyride-modal-bg").length<1&&e("body").append(s.template.modal).show(),/pop/i.test(s.tipAnimation)?e(".joyride-modal-bg").show():e(".joyride-modal-bg").fadeIn(s.tipAnimationFadeSpeed)},expose:function(){var n,r,i,u,a="expose-"+Math.floor(Math.random()*1e4);if(arguments.length>0&&arguments[0]instanceof e)i=arguments[0];else{if(!s.$target||!!/body/i.test(s.$target.selector))return!1;i=s.$target}if(i.length<1)return t.console&&console.error("element not valid",i),!1;n=e(s.template.expose),s.$body.append(n),n.css({top:i.offset().top,left:i.offset().left,width:i.outerWidth(!0),height:i.outerHeight(!0)}),r=e(s.template.exposeCover),u={zIndex:i.css("z-index"),position:i.css("position")},i.css("z-index",n.css("z-index")*1+1),u.position=="static"&&i.css("position","relative"),i.data("expose-css",u),r.css({top:i.offset().top,left:i.offset().left,width:i.outerWidth(!0),height:i.outerHeight(!0)}),s.$body.append(r),n.addClass(a),r.addClass(a),s.tipSettings.exposeClass&&(n.addClass(s.tipSettings.exposeClass),r.addClass(s.tipSettings.exposeClass)),i.data("expose",a),s.postExposeCallback(s.$li.index(),s.$next_tip,i),o.add_exposed(i)},un_expose:function(){var n,r,i,u,a=!1;if(arguments.length>0&&arguments[0]instanceof e)r=arguments[0];else{if(!s.$target||!!/body/i.test(s.$target.selector))return!1;r=s.$target}if(r.length<1)return t.console&&console.error("element not valid",r),!1;n=r.data("expose"),i=e("."+n),arguments.length>1&&(a=arguments[1]),a===!0?e(".joyride-expose-wrapper,.joyride-expose-cover").remove():i.remove(),u=r.data("expose-css"),u.zIndex=="auto"?r.css("z-index",""):r.css("z-index",u.zIndex),u.position!=r.css("position")&&(u.position=="static"?r.css("position",""):r.css("position",u.position)),r.removeData("expose"),r.removeData("expose-z-index"),o.remove_exposed(r)},add_exposed:function(t){s.exposed=s.exposed||[],t instanceof e?s.exposed.push(t[0]):typeof t=="string"&&s.exposed.push(t)},remove_exposed:function(t){var n;t instanceof e?n=t[0]:typeof t=="string"&&(n=t),s.exposed=s.exposed||[];for(var r=0;r<s.exposed.length;r++)if(s.exposed[r]==n){s.exposed.splice(r,1);return}},center:function(){var e=s.$window;return s.$next_tip.css({top:(e.height()-s.$next_tip.outerHeight())/2+e.scrollTop(),left:(e.width()-s.$next_tip.outerWidth())/2+e.scrollLeft()}),!0},bottom:function(){return/bottom/i.test(s.tipSettings.tipLocation)},top:function(){return/top/i.test(s.tipSettings.tipLocation)},right:function(){return/right/i.test(s.tipSettings.tipLocation)},left:function(){return/left/i.test(s.tipSettings.tipLocation)},corners:function(e){var t=s.$window,n=t.height()/2,r=Math.ceil(s.$target.offset().top-n+s.$next_tip.outerHeight()),i=t.width()+t.scrollLeft(),o=t.height()+r,u=t.height()+t.scrollTop(),a=t.scrollTop();return r<a&&(r<0?a=0:a=r),o>u&&(u=o),[e.offset().top<a,i<e.offset().left+e.outerWidth(),u<e.offset().top+e.outerHeight(),t.scrollLeft()>e.offset().left]},visible:function(e){var t=e.length;while(t--)if(e[t])return!1;return!0},nub_position:function(e,t,n){t==="auto"?e.addClass(n):e.addClass(t)},startTimer:function(){s.$li.length?s.automate=setTimeout(function(){o.hide(),o.show(),o.startTimer()},s.timer):clearTimeout(s.automate)},end:function(){s.cookieMonster&&e.cookie(s.cookieName,"ridden",{expires:365,domain:s.cookieDomain,path:s.cookiePath}),s.localStorage&&localStorage.setItem(s.localStorageKey,!0),s.timer>0&&clearTimeout(s.automate),s.modal&&s.expose&&o.un_expose(),s.$current_tip&&s.$current_tip.hide(),s.$li&&(s.postStepCallback(s.$li.index(),s.$current_tip),s.postRideCallback(s.$li.index(),s.$current_tip)),e(".joyride-modal-bg").hide()},jquery_check:function(){return e.isFunction(e.fn.on)?!0:(e.fn.on=function(e,t,n){return this.delegate(t,e,n)},e.fn.off=function(e,t,n){return this.undelegate(t,e,n)},!1)},outerHTML:function(e){return e.outerHTML||(new XMLSerializer).serializeToString(e)},version:function(){return s.version},tabbable:function(t){e(t).on("keydown",function(n){if(!n.isDefaultPrevented()&&n.keyCode&&n.keyCode===27){n.preventDefault(),o.end();return}if(n.keyCode!==9)return;var r=e(t).find(":tabbable"),i=r.filter(":first"),s=r.filter(":last");n.target===s[0]&&!n.shiftKey?(i.focus(1),n.preventDefault()):n.target===i[0]&&n.shiftKey&&(s.focus(1),n.preventDefault())})}};e.fn.joyride=function(t){if(o[t])return o[t].apply(this,Array.prototype.slice.call(arguments,1));if(typeof t=="object"||!t)return o.init.apply(this,arguments);e.error("Method "+t+" does not exist on jQuery.joyride")}})(jQuery,this);
;
(function(t,i,e,r){'use strict';var o=decodeURI(window.location.search);e.behaviors.tour={attach:function(i){t('body').once('tour').each(function(){var s=new e.tour.models.StateModel();new e.tour.views.ToggleTourView({el:t(i).find('#toolbar-tab-tour'),model:s});s.on('change:isActive',function(e,i){t(r).trigger((i)?'drupalTourStarted':'drupalTourStopped')}).set('tour',t(i).find('ol#tour'));if(/tour=?/i.test(o)){s.set('isActive',!0)}})}};e.tour=e.tour||{models:{},views:{}};e.tour.models.StateModel=i.Model.extend({defaults:{tour:[],isActive:!1,activeTour:[]}});e.tour.views.ToggleTourView=i.View.extend({events:{click:'onClick'},initialize:function(){this.listenTo(this.model,'change:tour change:isActive',this.render);this.listenTo(this.model,'change:isActive',this.toggleTour)},render:function(){this.$el.toggleClass('hidden',this._getTour().length===0);var t=this.model.get('isActive');this.$el.find('button').toggleClass('is-active',t).prop('aria-pressed',t);return this},toggleTour:function(){if(this.model.get('isActive')){var t=this._getTour();this._removeIrrelevantTourItems(t,this._getDocument());var e=this;if(t.find('li').length){t.joyride({autoStart:!0,postRideCallback:function(){e.model.set('isActive',!1)},template:{link:'<a href="#close" class="joyride-close-tip">&times;</a>',button:'<a href="#" class="button button--primary joyride-next-tip"></a>'}});this.model.set({isActive:!0,activeTour:t})}}
else{this.model.get('activeTour').joyride('destroy');this.model.set({isActive:!1,activeTour:[]})}},onClick:function(t){this.model.set('isActive',!this.model.get('isActive'));t.preventDefault();t.stopPropagation()},_getTour:function(){return this.model.get('tour')},_getDocument:function(){return t(r)},_removeIrrelevantTourItems:function(i,r){var s=!1,n=/tips=([^&]+)/.exec(o);i.find('li').each(function(){var e=t(this),o=e.attr('data-id'),i=e.attr('data-class');if(n&&!t(this).hasClass(n[1])){s=!0;e.remove();return};if((!o&&!i)||(o&&r.find('#'+o).length)||(i&&r.find('.'+i).length)){return};s=!0;e.remove()});if(s){var a=i.find('li').length;if(!a){this.model.set({tour:[]})};i.find('li').each(function(i){var o=e.t('!tour_item of !total',{'!tour_item':i+1,'!total':a});t(this).find('.tour-progress').text(o)}).eq(-1).attr('data-text',e.t('End tour'))}}})})(jQuery,Backbone,Drupal,document);;
(function(t){t(document).ready(function(){t('a.toolbar-icon').removeAttr('title')})})(jQuery);;
(function(i,a,n){'use strict';var e=n.path,s=sessionStorage.getItem('escapeAdminPath'),t=window.location;if(!e.currentPathIsAdmin&&!/destination=/.test(t.search)){sessionStorage.setItem('escapeAdminPath',t)};a.behaviors.escapeAdmin={attach:function(){var t=i('[data-toolbar-escape-admin]').once('escapeAdmin');if(t.length&&e.currentPathIsAdmin){if(s!==null){t.attr('href',s)}
else{t.text(a.t('Home'))};t.closest('.toolbar-tab').removeClass('hidden')}}}})(jQuery,Drupal,drupalSettings);;
