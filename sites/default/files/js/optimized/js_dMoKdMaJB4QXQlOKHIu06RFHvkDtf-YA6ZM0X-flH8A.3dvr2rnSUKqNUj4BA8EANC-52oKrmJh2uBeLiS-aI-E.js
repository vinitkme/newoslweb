(function(s,a,i){'use strict';a.behaviors.password={attach:function(r,i){var e=s(r).find('input.js-password-field').once('password');if(e.length){var p=i.password,t=e.parent(),d=t.parent(),o;t.addClass('password-parent');d.find('input.js-password-confirm').parent().append('<div aria-live="polite" aria-atomic="true" class="password-confirm js-password-confirm">'+p.confirmTitle+' <span></span></div>').addClass('confirm-parent');var n=d.find('input.js-password-confirm'),l=d.find('div.js-password-confirm'),u=l.find('span');if(i.password.showStrengthIndicator){var h='<div class="password-strength"><div class="password-strength__meter"><div class="password-strength__indicator js-password-strength__indicator"></div></div><div aria-live="polite" aria-atomic="true" class="password-strength__title">'+p.strengthTitle+' <span class="password-strength__text js-password-strength__text"></span></div></div>';n.parent().after('<div class="password-suggestions description"></div>');t.append(h);o=d.find('div.password-suggestions').hide()};var f=function(s){var a=e.val()===s,i=a?'ok':'error';u.html(p['confirm'+(a?'Success':'Failure')]).removeClass('ok error').addClass(i)},c=function(){if(i.password.showStrengthIndicator){var s=a.evaluatePasswordStrength(e.val(),i.password);if(o.html()!==s.message){o.html(s.message)};o.toggle(s.strength!==100);t.find('.js-password-strength__indicator').css('width',s.strength+'%').removeClass('is-weak is-fair is-good is-strong').addClass(s.indicatorClass);t.find('.js-password-strength__text').html(s.indicatorText)};if(n.val()){f(n.val());l.css({visibility:'visible'})}
else{l.css({visibility:'hidden'})}};e.on('input',c);n.on('input',c)}}};a.evaluatePasswordStrength=function(i,a){i=i.trim();var n,o,r=0,t=100,e=[],f=/[a-z]/.test(i),c=/[A-Z]/.test(i),h=/[0-9]/.test(i),l=/[^a-zA-Z0-9]/.test(i),d=s('input.username'),p=(d.length>0)?d.val():a.username;if(i.length<12){e.push(a.tooShort);t-=((12-i.length)*5)+30};if(!f){e.push(a.addLowerCase);r++};if(!c){e.push(a.addUpperCase);r++};if(!h){e.push(a.addNumbers);r++};if(!l){e.push(a.addPunctuation);r++};switch(r){case 1:t-=12.5;break;case 2:t-=25;break;case 3:t-=40;break;case 4:t-=40;break};if(i!==''&&i.toLowerCase()===p.toLowerCase()){e.push(a.sameAsUsername);t=5};if(t<60){n=a.weak;o='is-weak'}
else if(t<70){n=a.fair;o='is-fair'}
else if(t<80){n=a.good;o='is-good'}
else if(t<=100){n=a.strong;o='is-strong'};e=a.hasWeaknesses+'<ul><li>'+e.join('</li><li>')+'</li></ul>';return{strength:t,message:e,indicatorText:n,indicatorClass:o}}})(jQuery,Drupal,drupalSettings);