(function(a,t,l){'use strict';var o=t.url(l.path.currentPath);a.fn.drupalToolbarMenu=function(){var l={handleOpen:t.t('Extend'),handleClose:t.t('Collapse')};function s(t){var e=a(t.target),o=e.closest('li');n(o);var l=o.siblings().filter('.open');n(l,!1)};function c(a){if(!t.toolbar.models.toolbarModel.get('isFixed')){t.toolbar.models.toolbarModel.set('activeTab',null)};a.stopPropagation()};function n(a,t){var o=a.children('.toolbar-box').children('.toolbar-handle');t=(typeof t!=='undefined')?t:!a.hasClass('open');a.toggleClass('open',t);o.toggleClass('open',t);o.find('.action').text((t)?l.handleClose:l.handleOpen)};function r(o){var n={class:'toolbar-icon toolbar-handle',action:l.handleOpen,text:''};o.find('li > a').wrap('<div class="toolbar-box">');o.find('li').each(function(o,l){var e=a(l);if(e.children('ul.toolbar-menu').length){var i=e.children('.toolbar-box');n.text=t.t('@label',{'@label':i.find('a').text()});e.children('.toolbar-box').append(t.theme('toolbarMenuItemToggle',n))}})};function e(a,t){t=(!t)?1:t;var o=a.children('li').addClass('level-'+t);a=o.children('ul');if(a.length){e(a,t+1)}};function i(a){var t=a.find('a[href="'+location.pathname+'"]');if(t.length&&!o){o=location.pathname};if(o){var l=a.find('a[href="'+o+'"]').addClass('menu-item--active'),e=l.parentsUntil('.root','li').addClass('menu-item--active-trail');n(e,!0)}};return this.each(function(t){var o=a(this).once('toolbar-menu');if(o.length){o.on('click.toolbar','.toolbar-box',s).on('click.toolbar','.toolbar-box a',c);o.addClass('root');r(o);e(o);i(o)}})};t.theme.toolbarMenuItemToggle=function(a){return'<button class="'+a['class']+'"><span class="action">'+a.action+'</span><span class="label">'+a.text+'</span></button>'}}(jQuery,Drupal,drupalSettings));