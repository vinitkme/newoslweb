(function(t,a,e){'use strict';t.fn.drupalGetSummary=function(){var a=this.data('summaryCallback');return(this[0]&&a)?t.trim(a(this[0])):''};t.fn.drupalSetSummary=function(t){var a=this;if(typeof t!=='function'){var r=t;t=function(){return r}};return this.data('summaryCallback',t).off('formUpdated.summary').on('formUpdated.summary',function(){a.trigger('summaryUpdated')}).trigger('summaryUpdated')};a.behaviors.formSingleSubmit={attach:function(){function a(a){var r=t(a.currentTarget),e=r.serialize(),n=r.attr('data-drupal-form-submit-last');if(n===e){a.preventDefault()}
else{r.attr('data-drupal-form-submit-last',e)}};t('body').once('form-single-submit').on('submit.singleSubmit','form:not([method~="GET"])',a)}};function n(a){t(a).trigger('formUpdated')};function r(a){var r=t(a).find('[name]').map(function(t,a){return a.getAttribute('id')});return t.makeArray(r)};a.behaviors.formUpdated={attach:function(a){var i=t(a),f=i.is('form'),u=(f?i:i.find('form')).once('form-updated'),o;if(u.length){t.makeArray(u).forEach(function(a){var f='change.formUpdated input.formUpdated ',i=e(function(t){n(t.target)},300);o=r(a).join(',');a.setAttribute('data-drupal-form-fields',o);t(a).on(f,i)})};if(f){o=r(a).join(',');var m=t(a).attr('data-drupal-form-fields');if(o!==m){n(a)}}},detach:function(a,r,n){var e=t(a),i=e.is('form');if(n==='unload'){var o=(i?e:e.find('form')).removeOnce('form-updated');if(o.length){t.makeArray(o).forEach(function(a){a.removeAttribute('data-drupal-form-fields');t(a).off('.formUpdated')})}}}};a.behaviors.fillUserInfoFromBrowser={attach:function(a,e){var n=['name','mail','homepage'],r=t('[data-user-info-from-browser]').once('user-info-from-browser');if(r.length){n.map(function(t){var a=r.find('[name='+t+']'),e=localStorage.getItem('Drupal.visitor.'+t),n=(a.val()===''||(a.attr('data-drupal-default-value')===a.val()));if(a.length&&n&&e){a.val(e)}})};r.on('submit',function(){n.map(function(t){var a=r.find('[name='+t+']');if(a.length){localStorage.setItem('Drupal.visitor.'+t,a.val())}})})}}})(jQuery,Drupal,Drupal.debounce);