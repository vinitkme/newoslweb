(function(e,o,a){'use strict';var t=e.extend({breakpoints:{'toolbar.narrow':'','toolbar.standard':'','toolbar.wide':''}},a.toolbar,{strings:{horizontal:o.t('Horizontal orientation'),vertical:o.t('Vertical orientation')}});o.behaviors.toolbar={attach:function(r){if(!window.matchMedia('only screen').matches){return};e(r).find('#toolbar-administration').once('toolbar').each(function(){var r=o.toolbar.models.toolbarModel=new o.toolbar.ToolbarModel({locked:JSON.parse(localStorage.getItem('Drupal.toolbar.trayVerticalLocked'))||!1,activeTab:document.getElementById(JSON.parse(localStorage.getItem('Drupal.toolbar.activeTabID')))});o.toolbar.views.toolbarVisualView=new o.toolbar.ToolbarVisualView({el:this,model:r,strings:t.strings});o.toolbar.views.toolbarAuralView=new o.toolbar.ToolbarAuralView({el:this,model:r,strings:t.strings});o.toolbar.views.bodyVisualView=new o.toolbar.BodyVisualView({el:this,model:r});var n=o.toolbar.models.menuModel=new o.toolbar.MenuModel();o.toolbar.views.menuVisualView=new o.toolbar.MenuVisualView({el:e(this).find('.toolbar-menu-administration').get(0),model:n,strings:t.strings});o.toolbar.setSubtrees.done(function(o){n.set('subtrees',o);var e=a.ajaxPageState.theme;localStorage.setItem('Drupal.toolbar.subtrees.'+e,JSON.stringify(o));r.set('areSubtreesLoaded',!0)});for(var l in t.breakpoints){if(t.breakpoints.hasOwnProperty(l)){var s=t.breakpoints[l],i=o.toolbar.mql[l]=window.matchMedia(s);i.addListener(o.toolbar.mediaQueryChangeHandler.bind(null,r,l));o.toolbar.mediaQueryChangeHandler.call(null,r,l,i)}};o.toolbar.views.toolbarVisualView.loadSubtrees();e(document).on('drupalViewportOffsetChange.toolbar',function(o,e){r.set('offsets',e)});r.on('change:orientation',function(o,t){e(document).trigger('drupalToolbarOrientationChange',t)}).on('change:activeTab',function(o,t){e(document).trigger('drupalToolbarTabChange',t)}).on('change:activeTray',function(o,t){e(document).trigger('drupalToolbarTrayChange',t)});if(o.toolbar.models.toolbarModel.get('orientation')==='horizontal'&&o.toolbar.models.toolbarModel.get('activeTab')===null){o.toolbar.models.toolbarModel.set({activeTab:e('.toolbar-bar .toolbar-tab:not(.home-toolbar-tab) a').get(0)})}})}};o.toolbar={views:{},models:{},mql:{},setSubtrees:new e.Deferred(),mediaQueryChangeHandler:function(o,t,e){switch(t){case'toolbar.narrow':o.set({isOriented:e.matches,isTrayToggleVisible:!1});if(!e.matches||!o.get('orientation')){o.set({orientation:'vertical'},{validate:!0})};break;case'toolbar.standard':o.set({isFixed:e.matches});break;case'toolbar.wide':o.set({orientation:((e.matches)?'horizontal':'vertical')},{validate:!0});o.set({isTrayToggleVisible:e.matches});break;default:break}}};o.theme.toolbarOrientationToggle=function(){return'<div class="toolbar-toggle-orientation"><div class="toolbar-lining"><button class="toolbar-icon" type="button"></button></div></div>'};o.AjaxCommands.prototype.setToolbarSubtrees=function(e,t,a){o.toolbar.setSubtrees.resolve(t.subtrees)}}(jQuery,Drupal,drupalSettings));