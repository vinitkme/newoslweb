(function(e,t,i){'use strict';t.behaviors.ViewsAjaxView={};t.behaviors.ViewsAjaxView.attach=function(){if(i&&i.views&&i.views.ajaxViews){var e=i.views.ajaxViews;for(var s in e){if(e.hasOwnProperty(s)){t.views.instances[s]=new t.views.ajaxView(e[s])}}}};t.views={};t.views.instances={};t.views.ajaxView=function(s){var o='.js-view-dom-id-'+s.view_dom_id;this.$view=e(o);var r=i.views.ajax_path;if(r.constructor.toString().indexOf('Array')!==-1){r=r[0]};var a=window.location.search||'';if(a!==''){a=a.slice(1).replace(/q=[^&]+&?|&?render=[^&]+/,'');if(a!==''){a=((/\?/.test(r))?'&':'?')+a}};this.element_settings={url:r+a,submit:s,setClick:!0,event:'click',selector:o,progress:{type:'fullscreen'}};this.settings=s;this.$exposed_form=e('form#views-exposed-form-'+s.view_name.replace(/_/g,'-')+'-'+s.view_display_id.replace(/_/g,'-'));this.$exposed_form.once('exposed-form').each(e.proxy(this.attachExposedFormAjax,this));this.$view.filter(e.proxy(this.filterNestedViews,this)).once('ajax-pager').each(e.proxy(this.attachPagerAjax,this));var n=e.extend({},this.element_settings,{event:'RefreshView',base:this.selector,element:this.$view.get(0)});this.refreshViewAjax=t.ajax(n)};t.views.ajaxView.prototype.attachExposedFormAjax=function(){var i=this;this.exposedFormAjax=[];e('input[type=submit], input[type=image]',this.$exposed_form).not('[data-drupal-selector=edit-reset]').each(function(s){var a=e.extend({},i.element_settings,{base:e(this).attr('id'),element:this});i.exposedFormAjax[s]=t.ajax(a)})};t.views.ajaxView.prototype.filterNestedViews=function(){return!this.$view.parents('.view').size()};t.views.ajaxView.prototype.attachPagerAjax=function(){this.$view.find('ul.js-pager__items > li > a, th.views-field a, .attachment .views-summary a').each(e.proxy(this.attachPagerLinkAjax,this))};t.views.ajaxView.prototype.attachPagerLinkAjax=function(i,s){var n=e(s),r={};var a=n.attr('href');e.extend(r,this.settings,t.Views.parseQueryString(a),t.Views.parseViewArgs(a,this.settings.view_base_path));var o=e.extend({},this.element_settings,{submit:r,base:!1,element:s});this.pagerAjax=t.ajax(o)};t.AjaxCommands.prototype.viewsScrollTop=function(s,i){var a=e(i.selector).offset(),t=i.selector;while(e(t).scrollTop()===0&&e(t).parent()){t=e(t).parent()};if(a.top-10<e(t).scrollTop()){e(t).animate({scrollTop:(a.top-10)},500)}}})(jQuery,Drupal,drupalSettings);