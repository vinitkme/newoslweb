(function(i,t){'use strict';t.quickedit.util=t.quickedit.util||{};t.quickedit.util.constants={};t.quickedit.util.constants.transitionEnd='transitionEnd.quickedit webkitTransitionEnd.quickedit transitionend.quickedit msTransitionEnd.quickedit oTransitionEnd.quickedit';t.quickedit.util.buildUrl=function(i,e){var n=i.split('/');return t.formatString(decodeURIComponent(e),{'!entity_type':n[0],'!id':n[1],'!field_name':n[2],'!langcode':n[3],'!view_mode':n[4]})};t.quickedit.util.networkErrorModal=function(e,n){var a=i('<div>'+n+'</div>'),o=t.dialog(a.get(0),{title:e,dialogClass:'quickedit-network-error',buttons:[{text:t.t('OK'),click:function(){o.close()},primary:!0}],create:function(){i(this).parent().find('.ui-dialog-titlebar-close').remove()},close:function(t){i(t.target).remove()}});o.showModal()};t.quickedit.util.form={load:function(i,e){var o=i.fieldID,n=t.ajax({url:t.quickedit.util.buildUrl(o,t.url('quickedit/form/!entity_type/!id/!field_name/!langcode/!view_mode')),submit:{nocssjs:i.nocssjs,reset:i.reset},error:function(i,e){var r=t.quickedit.metadata.get(o,'label'),n=t.t('Could not load the form for <q>@field-label</q>, either due to a website problem or a network connection problem.<br>Please try again.',{'@field-label':r});t.quickedit.util.networkErrorModal(t.t('Network problem!'),n);var a=t.quickedit.app.model.get('activeField');a.set('state','candidate')}});n.commands.quickeditFieldForm=function(i,n,o){e(n.data,i);t.ajax.instances[this.instanceIndex]=null};n.execute()},ajaxifySaving:function(i,e){var n={url:e.closest('form').attr('action'),setClick:!0,event:'click.quickedit',progress:!1,submit:{nocssjs:i.nocssjs,other_view_modes:i.other_view_modes},success:function(t,i){for(var e in t){if(t.hasOwnProperty(e)&&t[e].command&&this.commands[t[e].command]){this.commands[t[e].command](this,t[e],i)}}},base:e.attr('id'),element:e[0]};return t.ajax(n)},unajaxifySaving:function(t){i(t.element).off('click.quickedit')}}})(jQuery,Drupal);