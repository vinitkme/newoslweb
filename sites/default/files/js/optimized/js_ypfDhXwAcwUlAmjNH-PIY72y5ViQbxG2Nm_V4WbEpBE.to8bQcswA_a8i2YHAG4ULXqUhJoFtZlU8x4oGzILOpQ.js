(function(e,i,t){'use strict';e.contextual.VisualView=i.View.extend({events:function(){var i=function(e){e.preventDefault();e.target.click()},e={'click .trigger':function(){this.model.toggleOpen()},'touchend .trigger':i,'click .contextual-links a':function(){this.model.close().blur()},'touchend .contextual-links a':i};if(!t.touchevents){e.mouseenter=function(){this.model.focus()}};return e},initialize:function(){this.listenTo(this.model,'change',this.render)},render:function(){var e=this.model.get('isOpen'),t=this.model.get('isLocked')||this.model.get('regionIsHovered')||e;this.$el.toggleClass('open',e).find('.trigger').toggleClass('visually-hidden',!t);if('isOpen' in this.model.changed){this.$el.closest('.contextual-region').find('.contextual .trigger:not(:first)').toggle(!e)};return this}})})(Drupal,Backbone,Modernizr);