(function(t,s,e){'use strict';function n(e){this.$node=t(e);this.$node.data('details',this);var n=location.hash&&location.hash!=='#'?', '+location.hash:'';if(this.$node.find('.error'+n).length){this.$node.attr('open',!0)};this.setupSummary();this.setupLegend()};t.extend(n,{instances:[]});t.extend(n.prototype,{setupSummary:function(){this.$summary=t('<span class="summary"></span>');this.$node.on('summaryUpdated',t.proxy(this.onSummaryUpdated,this)).trigger('summaryUpdated')},setupLegend:function(){var n=this.$node.find('> summary');t('<span class="details-summary-prefix visually-hidden"></span>').append(this.$node.attr('open')?e.t('Hide'):e.t('Show')).prependTo(n).after(document.createTextNode(' '));t('<a class="details-title"></a>').attr('href','#'+this.$node.attr('id')).prepend(n.contents()).appendTo(n);n.append(this.$summary).on('click',t.proxy(this.onLegendClick,this))},onLegendClick:function(t){this.toggle();t.preventDefault()},onSummaryUpdated:function(){var e=t.trim(this.$node.drupalGetSummary());this.$summary.html(e?' ('+e+')':'')},toggle:function(){var n=!!this.$node.attr('open'),t=this.$node.find('> summary span.details-summary-prefix');if(n){t.html(e.t('Show'))}
else{t.html(e.t('Hide'))};setTimeout(function(){this.$node.attr('open',!n)}.bind(this),0)}});e.behaviors.collapse={attach:function(e){if(s.details){return};var a=t(e).find('details').once('collapse').addClass('collapse-processed');if(a.length){for(var i=0;i<a.length;i++){n.instances.push(new n(a[i]))}}}};e.CollapsibleDetails=n})(jQuery,Modernizr,Drupal);