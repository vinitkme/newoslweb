(function(e,t,l){'use strict';t.behaviors.tableResponsive={attach:function(t,n){var l=e(t).find('table.responsive-enabled').once('tableresponsive');if(l.length){var a=l.length;for(var s=0;s<a;s++){i.tables.push(new i(l[s]))}}}};function i(i){this.table=i;this.$table=e(i);this.showText=t.t('Show all columns');this.hideText=t.t('Hide lower priority columns');this.$headers=this.$table.find('th');this.$link=e('<button type="button" class="link tableresponsive-toggle"></button>').attr('title',t.t('Show table cells that were hidden to make the table fit within a small screen.')).on('click',e.proxy(this,'eventhandlerToggleColumns'));this.$table.before(e('<div class="tableresponsive-toggle-columns"></div>').append(this.$link));e(l).on('resize.tableresponsive',e.proxy(this,'eventhandlerEvaluateColumnVisibility')).trigger('resize.tableresponsive')};e.extend(i,{tables:[]});e.extend(i.prototype,{eventhandlerEvaluateColumnVisibility:function(e){var i=parseInt(this.$link.data('pegged'),10),t=this.$headers.filter('.priority-medium:hidden, .priority-low:hidden').length;if(t>0){this.$link.show().text(this.showText)};if(!i&&t===0){this.$link.hide().text(this.hideText)}},eventhandlerToggleColumns:function(t){t.preventDefault();var i=this,s=this.$headers.filter('.priority-medium:hidden, .priority-low:hidden');this.$revealedCells=this.$revealedCells||e();if(s.length>0){s.each(function(t,s){var l=e(this),n=l.prevAll('th').length;i.$table.find('tbody tr').each(function(){var t=e(this).find('td').eq(n);t.show();i.$revealedCells=e().add(i.$revealedCells).add(t)});l.show();i.$revealedCells=e().add(i.$revealedCells).add(l)});this.$link.text(this.hideText).data('pegged',1)}
else{this.$revealedCells.hide();this.$revealedCells.each(function(t,s){var r=e(this),a=r.attr('style').split(';'),n=[],h=/^display\s*\:\s*none$/;for(var l=0;l<a.length;l++){var i=a[l];i.trim();var o=h.exec(i);if(o){continue};n.push(i)};r.attr('style',n.join(';'))});this.$link.text(this.showText).data('pegged',0);e(l).trigger('resize.tableresponsive')}}});t.TableResponsive=i})(jQuery,Drupal,window);;
